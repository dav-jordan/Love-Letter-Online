<!DOCTYPE html>

<html>
  <head>
    <link rel="stylesheet" href="https://unpkg.com/material-components-web/dist/material-components-web.min.css">
    <title>LLO</title>
  </head>

  <body>
	Handle:
	<input name"handle" type="text" id="handle" class="searchField"/>
	Card Played:
	<input name="card" type="text" id="card" class="searchField"/>	
	Target:
	<input name="card" type="text" id="target" class="searchField"/>	
	Parameters:
	<input name="card" type="text" id="param" class="searchField"/>	

	<script src="/socket.io/socket.io.js"></script>

	<script>
		var socket = io();

		function lock() {
			socket.emit('lockPlayers', {});
		}

		function start() {
			socket.emit('gameStart', {});
		}
	
		function playCard(){
			socket.emit('cardPlayed', {card: document.getElementById('card').value,
						target: document.getElementById('target').value,
						param: document.getElementById('param').value});
		}

		socket.on('yourPlayer', (data) => {
			console.log('\nYou are' , data.player);
		});

		socket.on('newTurn', (data) => {
			console.log('\nActive Player:' , data.currPlayer);
		});

		socket.on('players', (data) => {
			console.log('\nSubmitting players to server');
			socket.emit('addPlayer', {handle: document.getElementById('handle').value});	
		});
		
		socket.on('gameOver', (data) => {
			console.log("game over");
			document.getElementById("test").innerHTML = "game over";
		});
	</script>	

  <input id="gamestate" type="button" value="Lock" onclick="lock()" />
  <input id="start" type="button" value="Start" onclick="start()" />
  <input id="gamestate" type="button" value="Play Card" onclick="playCard();" />

  </body>

</html>
